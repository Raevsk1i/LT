# LT
Load testing for Performance Lab

Методика - https://onedrive.live.com/edit?id=C1E1BE5F05FF4687!sd0152a78423344709f810a5c7f06df42&resid=C1E1BE5F05FF4687!sd0152a78423344709f810a5c7f06df42&cid=c1e1be5f05ff4687&ithint=file%2Cdocx&redeem=aHR0cHM6Ly8xZHJ2Lm1zL3cvYy9jMWUxYmU1ZjA1ZmY0Njg3L0VYZ3FGZEF6UW5CRW40RUtYSDhHMzBJQlhSSUZ5dVpXblRpR0pkYV9wYXFJTVE_ZT1adkt0bWo&migratedtospo=true&wdo=2

Архитектура платформы Boomq
![image](https://github.com/Raevsk1i/LT/assets/150054332/9e93585c-dab3-4791-9786-9b491cc2d71b)

Взаимодействие компонентов Boomq при
запуске теста
1. Пользователь в интерфейсе запускает тест, и с Frontend приходит запрос к
микросервисам.
2. Микросервисы проверяют, есть ли у пользователя права для запуска теста:
принадлежит ли пользователю проект, нет ли ограничений по лицензии.
3. Микросервисы обмениваются асинхронными сообщения через RabbitMQ и
дополнительно проверяют наличие прав у пользователя на запуск теста.
4. На нагрузочной станции разворачивается Docker-контейнер с JMeter.
5. Микросервисы из MinIO загружают в Docker-контейнер JMeter-скрипт для запуска теста
и при необходимости сопутствующие файлы.
6. Микросервисы запускают тест и передают данные об этом на Frontend.
7. JMeter отправляет:
запросы на объект тестирования;
тестовые метрики на TimescaleDB.
8. Telegraf отправляет метрики нагрузочной станции на TimescaleDB.
9. Если пользователь через интерфейс запрашивает детализацию выполнения теста:
a. Микросервисы отправляют запрос в Grafana.
b. Grafana получает данные о тесте и нагрузочной станции из TimescaleDB.
c. Если на объекте тестирования настроен Telegraf, то он отправляет данные в
TimescaleDB для системного мониторинга.
d. Grafana получает данные о метриках объекта тестирования.
10. Когда тест завершается:
a. Микросервисы подключаются к нагрузочной станции и выгружают с нее лог-файлы
в MinIO.
b. Если пользователь через интерфейс запрашивает лог-файлы, то микросервисы
формируют ссылку на лог-файл в MinIO и возвращают ее на Frontend.
